
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Distributed open source performance testing platform for APIs">
      
      
        <meta name="author" content="ZOOZ">
      
      
        <link rel="canonical" href="https://predator.dev/tests.html">
      
      
        <link rel="prev" href="myfirsttest.html">
      
      
        <link rel="next" href="functionalandassertions.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.33">
    
    
      
        <title>Advanced Test Setup - Predator</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-reuse-with-variables" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Predator" class="md-header__button md-logo" aria-label="Predator" data-md-component="logo">
      
  <img src="logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Predator
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Advanced Test Setup
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Zooz/predator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Predator" class="md-nav__button md-logo" aria-label="Predator" data-md-component="logo">
      
  <img src="logo.png" alt="logo">

    </a>
    Predator
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Zooz/predator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="installation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="myfirsttest.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    My First Test
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Advanced Test Setup
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="tests.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Advanced Test Setup
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-reuse-with-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Data Reuse with Variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Reuse with Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pick-a-random-element-from-an-array" class="md-nav__link">
    <span class="md-ellipsis">
      Pick a random element from an array
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#csv-files" class="md-nav__link">
    <span class="md-ellipsis">
      CSV Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#built-in-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-reuse-with-dsl-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Request Reuse with DSL Definitions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Request Reuse with DSL Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-dsl-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a DSL Definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-test-that-uses-the-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Test that Uses the DSL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-test-with-custom-logic-in-javascript-released-in-version-120" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Test with Custom Logic in Javascript (Released in version 1.2.0)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-test-requestsresponses" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging Test Requests/Responses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Debugging Test Requests/Responses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-ui" class="md-nav__link">
    <span class="md-ellipsis">
      1. UI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-api" class="md-nav__link">
    <span class="md-ellipsis">
      2. API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="functionalandassertions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional Tests and Assertions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="processors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Processor Creation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="benchmarks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Benchmarks
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="webhooks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webhooks
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="streaming.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Streaming Platforms
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="schedulesandreports.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedules and Reports
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="plugins.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="performance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Runner's Performance
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="chaosmesh.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating Chaos Mesh with Predator
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="contributing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="apireference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-reuse-with-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Data Reuse with Variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Reuse with Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pick-a-random-element-from-an-array" class="md-nav__link">
    <span class="md-ellipsis">
      Pick a random element from an array
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#csv-files" class="md-nav__link">
    <span class="md-ellipsis">
      CSV Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#built-in-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-reuse-with-dsl-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Request Reuse with DSL Definitions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Request Reuse with DSL Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-dsl-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a DSL Definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-test-that-uses-the-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Test that Uses the DSL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-test-with-custom-logic-in-javascript-released-in-version-120" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Test with Custom Logic in Javascript (Released in version 1.2.0)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-test-requestsresponses" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging Test Requests/Responses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Debugging Test Requests/Responses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-ui" class="md-nav__link">
    <span class="md-ellipsis">
      1. UI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-api" class="md-nav__link">
    <span class="md-ellipsis">
      2. API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Advanced Test Setup</h1>

<div class="admonition note">
<p class="admonition-title">What you should already know</p>
<p>We assume you have already familiarized yourself with the basic concepts used in Predator and that you successfully created your first test. If not, we strongly recommend you first complete the steps in the <a href="myfirsttest.html">My First Test</a> topic before proceeding with the instructions below.</p>
</div>
<h2 id="data-reuse-with-variables">Data Reuse with Variables<a class="headerlink" href="#data-reuse-with-variables" title="Permanent link">#</a></h2>
<p>The <strong>Captures</strong> field of the <a href="myfirsttest.html#http-request-properties">HTTP request properties</a> allows you to extract (capture) data from the request response and store it in a variable for reuse in another request. Use JSONPath syntax to extract the data of your choice. In the following example we extract the <code>id</code> field and store it in a <code>petId</code> variable:</p>
<p><img alt="Screenshot" src="images/extract_data_to_variable.png" /></p>
<p>You can then use <code>petId</code> in a request by placing it between double brackets, like so:</p>
<p><code>{{petId}}</code></p>
<p>Here's an example of using <code>{{petId}}</code> in the request path:</p>
<p><img alt="Screenshot" src="images/variable_in_path.png" /></p>
<h3 id="pick-a-random-element-from-an-array">Pick a random element from an array<a class="headerlink" href="#pick-a-random-element-from-an-array" title="Permanent link">#</a></h3>
<p>When capturing responses data, you may want to randomly select an item from your dataset to continue with your scenario.<br />
This is achieved by using the <code>*</code> operator, which selects all the matching items. The engine will then randomly pick a single item for you and store it in the defined variable.  </p>
<p>Usage example :</p>
<p><img alt="Screenshot" src="images/random_pick.png" />
on
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;45697038-37ae-4149-9f5e-ed7a4a20e014&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;132456789&quot;</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f02392e8-1b11-401f-a902-8a9a1ae5c47a&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abcdefghi&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
will randomly store <code>45697038-...-ed7a4a20e014</code> or <code>f02392e8-...-8a9a1ae5c47a</code> in <code>{{dataId}}</code> for further usage in the scenario.</p>
<h2 id="csv-files">CSV Files<a class="headerlink" href="#csv-files" title="Permanent link">#</a></h2>
<div class="admonition tip">
<p class="admonition-title">Supported from version zooz/predator:1.4.0</p>
</div>
<p>Predator supports uploading CSV files and using them as data set for the test.</p>
<p>Each new virtual user that starts a scenario will pick a row from the data set.</p>
<p>Usage Example:</p>
<ol>
<li>Save a csv file with headers and delimited by ','</li>
</ol>
<div class="highlight"><pre><span></span><code>amount, currency
10, USD
30, GBP
50, EUR
</code></pre></div>
<ol start="2">
<li>When creating a test, click on add 'Add csv' and drag and drop the file into the box  </li>
</ol>
<p><img alt="Screenshot" src="images/upload_csv.png" /></p>
<ol start="3">
<li>All headers available in the csv are ready to use as variables</li>
</ol>
<p><img alt="Screenshot" src="images/csv_use_headers.png" /></p>
<h2 id="built-in-functions">Built-in Functions<a class="headerlink" href="#built-in-functions" title="Permanent link">#</a></h2>
<p>Predator supports some generic functions out of the box and they can be used to generate random data.</p>
<ul>
<li><code>$randomNumber(min, max)</code> will generate a random number within the provided range.</li>
<li><code>$randomString(length)</code> will generate a random string with the specified length.</li>
<li><code>$uuid()</code> will generate v4 UUID.</li>
<li><code>$dateNow()</code> will generate a number of ms since epoch.</li>
</ul>
<p><b>Currently these functions all return values as a <code>string</code>. An issue is open regarding this: <a href="https://github.com/Zooz/predator/issues/178">#178</a></b></p>
<p>Usage example:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $uuid() }}&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $randomString(6) }}&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $randomNumber(0,15) }}&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $dateNow() }}&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="request-reuse-with-dsl-definitions">Request Reuse with DSL Definitions<a class="headerlink" href="#request-reuse-with-dsl-definitions" title="Permanent link">#</a></h2>
<p>This is the moment where Predator shows its teeth and unleashes its true power. </p>
<p>Writing a performance test that checks specific parts of your API end-to-end can be a huge hassle, but now it is effortless. By creating DSL definitions using Predator's Domain Specific Language (DSL), request templates are generated which you can then reuse in the same test and in other tests under the same DSL type, reducing replication.</p>
<p>Let's dive right in and get going with our first DSL definition. </p>
<div class="admonition note">
<p class="admonition-title">Predator API</p>
<p>This functionality is only available through the <a href="https://zooz.github.io/predator/indexapiref.html#section/Overview#section" target="_blank">Predator API</a>.</p>
</div>
<h3 id="creating-a-dsl-definition">Creating a DSL Definition<a class="headerlink" href="#creating-a-dsl-definition" title="Permanent link">#</a></h3>
<p>Before you can use a DSL definition, you must create it first. You do so by invoking the <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-dsl-definition" target="_blank">Create DSL Definition</a> request. Here's an example request body for creating a DSL definition of a GET request. Notice how we use the <code>{{petId}}</code> in the url endpoint (we will create this variable in the example of a POST request DSL definition):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;get-pet&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;get&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://127.0.0.1:3000/pets/{{petId}}&quot;</span>
<span class="w">        </span><span class="p">}</span><span class="w">   </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The request body for creating a DSL definition of a POST request is a bit more elaborate, since it requires that you pass in the entire body that makes up the POST request. The following example shows how to do this. Notice how we add a <code>capture</code> array, in which we define the <code>petId</code> variable for storing the pet ID. We can then reuse it in another request (like in the example of a GET request above).</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;create-pet&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;post&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://127.0.0.1:3000/pets&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;json&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mickey&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;species&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dog&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;capture&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;json&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$.id&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;as&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;petId&quot;</span>
<span class="w">                </span><span class="p">}</span><span class="w">   </span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span><span class="w">   </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="creating-a-test-that-uses-the-dsl">Creating a Test that Uses the DSL<a class="headerlink" href="#creating-a-test-that-uses-the-dsl" title="Permanent link">#</a></h3>
<p>Tests that use a DSL definition can only be created using the <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-test" target="_blank">Create Test</a> API request. The <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-test" target="_blank">Create Test</a> API request body must include all components that make up a test, including pre-scenario requests and scenarios. However, instead of defining the entire HTTP request in each scenario step (as you would through the Predator UI), you can now reference the HTTP request through its DSL definition. You do so, using the <code>action</code> property (in the <code>steps</code> array). </p>
<p>Here's an example:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Pet store&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DSL&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dsl&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Make sure the type is set to DSL</span>
<span class="w">  </span><span class="nt">&quot;before&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;petstore.create-pet&quot;</span>
<span class="w">        </span><span class="p">}</span><span class="w">   </span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;scenario_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Only get pet&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;petstore.get-pet&quot;</span>
<span class="w">            </span><span class="p">}</span><span class="w">   </span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>There are two additional items to note:</p>
<ul>
<li>
<p>The <code>type</code> must always be set to <code>dsl</code>.</p>
</li>
<li>
<p>The <code>action</code> value uses the following syntax: <code>{dsl_group}.{dsl_name}</code>, in which the <code>dsl_group</code> is the name used in the path of the <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-dsl-definition" target="_blank">Create DSL Definition</a> API request. </p>
</li>
</ul>
<p>If you login to the Predator UI after creating the test, you will notice that the test has been added with a type of <strong>dsl</strong>. </p>
<p>You can now run the test as you would any other. </p>
<p><img alt="Screenshot" src="images/dsltestinui.png" /></p>
<h2 id="creating-a-test-with-custom-logic-in-javascript-released-in-version-120">Creating a Test with Custom Logic in Javascript (Released in version 1.2.0)<a class="headerlink" href="#creating-a-test-with-custom-logic-in-javascript-released-in-version-120" title="Permanent link">#</a></h2>
<p>Tests can use custom Javascript functions. To use custom Javascript functions in your tests please refer to the <u><a href="processors.html">processors documentation</a></u>.</p>
<h2 id="debugging-test-requestsresponses">Debugging Test Requests/Responses<a class="headerlink" href="#debugging-test-requestsresponses" title="Permanent link">#</a></h2>
<p>It is possible to view all of the requests and responses that the predator-runner sends and receives while running load on the API. 
This is very useful when your test does not behave the way you expected it to and need the request/response to further investigate.
The predator-runner will log this data to the log files which can be downloaded.</p>
<p>For the test to run in <code>debug</code> mode:</p>
<h5 id="1-ui">1. UI<a class="headerlink" href="#1-ui" title="Permanent link">#</a></h5>
<ul>
<li>Turn on the <b>Debug</b> flag when running a test</li>
</ul>
<h5 id="2-api">2. API<a class="headerlink" href="#2-api" title="Permanent link">#</a></h5>
<ul>
<li>Add <code>"debug": "*"</code> to the body of the <code>POST /jobs</code> request</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": 1.0}</script>
    
    
      <script src="assets/javascripts/bundle.af256bd8.min.js"></script>
      
    
  </body>
</html>